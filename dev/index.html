<!DOCTYPE HTML>
<html>
<head>
	<title>the development example</title>
	<script type="text/javascript" src="./utils.js"></script>
	<script type="text/javascript" src="./onlyhtml5video.js"></script>
	<link rel="stylesheet" type="text/css" href="./style/style.css">
</head>
<body>
	
	<video id="video1">
		<source src="../small.mp4" type="video/mp4" >
		<p>Your browser does not support the video tag.</p>
	</video>

	<script type="text/javascript">
		var videoContainer = onlyHtml5Video.create("#video1", {
			controls: {
				//hidden: ["mute", "volume", "fullscreen"]
			}
		});
	</script>
	
	<script>
		var duration = document.getElementById('duration');
		var current = document.getElementById("current");
		//click and slide will toggle the event.
		utils.on(duration, "click", function(e){
			var totalOffset = this.offsetWidth;
			var offset = e.offsetX;
			//update the progress
			current.style.width = (offset / totalOffset  * 100) + "%";
			console.log("click");
		});
		//move mouse to slide when the mouse is pressing
		var leftButtonPressing = false;
		utils.on(duration, "mousedown", function(e){
			if(e.button === 0){//left button
				leftButtonPressing = true;
			}
			console.log("down");
		});
		utils.on(duration, "mouseup", function(e){
			if(e.button === 0){//left button
				leftButtonPressing = false;
			}
			console.log("up");
		});
		utils.on(duration, "mousemove", function(e){
			console.log("move");
			if(leftButtonPressing && e.button === 0){//left button is pressing
				var totalOffset = this.offsetWidth;
				var offset = e.offsetX;
				//update the progress
				current.style.width = (offset / totalOffset  * 100) + "%";
			}
		});
	</script>
</body>
</html>